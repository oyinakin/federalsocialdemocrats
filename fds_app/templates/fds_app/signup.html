{% load static %}
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <!-- Moment.js -->
    <!-- Tempus Dominus Bootstrap 4 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/css/tempusdominus-bootstrap-4.min.css" integrity="sha256-XPTBwC3SBoWHSmKasAk01c08M6sIA5gF5+sRxqak2Qs=" crossorigin="anonymous" />
    <link rel="stylesheet" href="/static/fds_app/build/css/intlTelInput.css">
    <!--          -->
    <style >
    .btn-info{
      padding: 2%;
    margin-left: 45%;
    font-weight: 500;
    color: #008753;
    background-color: #fff;
    border-color: #008753;
    line-height: 1.0
      }
    .form-group label{
    	color:#fff;
    	font-size: 14px;
    	}
      .register {
        background-image: url(static/fds_app/images/image92.png),linear-gradient(to right, rgba(3,144,32,0.8),rgb(0, 135 ,83, 1) );
        padding: 3%;
        background-blend-mode: multiply;
        background-color: rgb(0 135 83 / 1);
    }

    .register-left {
    text-align: center;
    color: #fff;
    margin-top: 4%;
}
.register .register-form {
    padding: 3%;
    margin-top: 2%;
}
.register-heading {
    text-align: center;
    margin-top: 2%;
    color: red;
}
.register-left input {
    border: none;
    border-radius: 1.5rem;
    padding: 2%;
    width: 60%;
    background: transparent;
    font-weight: bold;
    color: #fff;
    margin-top: 30%;
    margin-bottom: 3%;
    cursor: pointer;
  }
.register-right {
    background: transparent;
    border-top-left-radius: 5% 5%;
    border-bottom-left-radius: 10% 50%;
  }
  .errorlist{
    color: red;
font-size: 14px;
margin: 0;
margin-top: -10%;
  }
[data-scroll] {
  transition: opacity 1s;
}
[data-scroll="in"] {
  opacity: 1;
}
[data-scroll="out"] {
  opacity: 0;
}
   </style>
   <script src="https://unpkg.com/scroll-out/dist/scroll-out.min.js"></script>
    <title>FSD | Join Us</title>
  </head>
  <body onload="">
        <div class="container-fluid register">
        <div class="row">
          <div class="col-md-5 register-left" >
                        <img src="/static/fds_app/images/logo3.png" alt="">
                        <h3>Membership Registration Form</h3>
                        <p>We are fighting for a better, fairer, and brighter future for every Nigerian: rolling up our sleeves, empowering grassroots voters, and organizing everywhere to take our country back.</p>
                        <span><p>Already a member?</p>
                          <a href="accounts/signin" style="color:#fff; text-decoration:underline;;">Sign In</a>
                        </span>
          </div>
          <div class="col-md-7 register-right">
            <div class="tab-content" id="myTabContent">
              <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                  <p class="register-heading" style="color:red">{% if error_message %}<strong>{{ error_message }}</strong>{% endif %}</p>
                    <form class="row register-form" id="signup"method="post">
                          {% csrf_token %}
                                      <div class="col-md-4">
                                          <div class="form-group">
                                              {{form.first_name.errors}}
                                              <label for="{{ form.first_name.id_for_label }}">First Name</label>
                                              {{form.first_name}}
                                          </div>
                                          <div class="form-group">
                                            {{form.middle_name.errors}}
                                            <label for="{{ form.middle_name.id_for_label }}">Middle Name</label>
                                            {{form.middle_name}}
                                          </div>
                                          <div class="form-group">
                                            {{form.last_name.errors}}
                                            <label for="{{ form.last_name.id_for_label }}">Last Name</label>
                                            {{form.last_name}}
                                          </div>
                                          <div class="form-group">
                                            {{form.gender.errors}}
                                            <label for="{{ form.gender.id_for_label }}">Gender</label>
                                            {{form.gender}}
                                          </div>
                                          <div class="form-group">
                                            {{form.date_of_birth.errors}}
                                            <label for="{{ form.date_of_birth_for_label }}">Date of Birth</label>
                                              {{ form.date_of_birth }}
                                            </div>
                                            <div class="form-group">
                                                {{form.marital_status.errors}}
                                                <label for="{{ form.marital_status_for_label }}">Marital Status</label>
                                                {{form.marital_status}}
                                            </div>
                                          </div>
                                      <div class="col-md-4">
                                        <div class="form-group">
                                          {{form.country_of_residence.errors}}
                                          <label for="{{ form.country_of_residence.id_for_label }}">Country of residence</label>
                                          {{form.country_of_residence}}
                                        </div>
                                        <div class="form-group">
                                          {{form.state_of_residence.errors}}
                                          <label for="{{ form.state_of_residence.id_for_label }}">State of residence</label>
                                          {{form.state_of_residence}}
                                        </div>
                                        <div class="form-group">
                                          {{form.LGA_of_residence.errors}}
                                          <label for="{{ form.LGA_of_residence.id_for_label }}">LGA of residence</label>
                                          {{form.LGA_of_residence}}
                                        </div>
                                        <div class="form-group">
                                          {{form.state_of_origin.errors}}
                                          <label for="{{ form.state_of_origin.id_for_label }}">State of Origin</label>
                                          {{form.state_of_origin}}
                                        </div>
                                        <div class="form-group">
                                          {{form.LGA.errors}}
                                          <label for="{{ form.LGA.id_for_label }}">LGA</label>
                                          {{form.LGA}}
                                        </div>
                                        <div class="form-group">
                                          {{form.highest_academic_qualification.errors}}
                                          <label for="{{ form.highest_academic_qualification.id_for_label }}">Highest Academic Qualification</label>
                                          {{form.highest_academic_qualification}}
                                        </div>
                                    </div>
                                      <div class="col-md-4">
                                        <div class="form-group">
                                          {{form.current_occupation.errors}}
                                          <label for="{{ form.date_of_registration.id_for_label }}">Current Occupation</label>
                                          {{ form.current_occupation }}
                                      </div>
                                        <div class="form-group">
                                          {{form.phone_number.errors}}
                                          <label for="{{ form.phone_number.id_for_label }}">Phone Number</label>
                                          {{form.phone_number}}
                                        </div>

                                        <div class="form-group">
                                          {{form.whatsapp_number.errors}}
                                          <label for="{{ form.whatsapp_number.id_for_label }}">Whatsapp Number</label>
                                          {{form.whatsapp_number}}
                                        </div>

                                          <div class="form-group">
                                            {{form.email.errors}}
                                            <label for="{{ form.email.id_for_label }}">Email</label>
                                            {{form.email}}
                                        </div>
                                        <div class="form-group">
                                              {{form2.password.errors}}
                                              <label for="form2.password.id_for_label">Password</label>
                                              {{form2.password}}
                                             <span id="message"></span>
                                          </div>
                                          <div class="form-group">
                                              {{form.date_of_registration}}
                                              {{form2.confirmpassword.errors}}
                                              <label for="form2.confirmpassword.id_for_label">Confirm Password</label>
                                              {{form2.confirmpassword}}
                                             <span id="message"></span>
                                            </div>
                                       </div>

                                      <input type="submit" class="btn btn-info" value="Register">

                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

  <script>
    ScrollOut();
  </script>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment.min.js" integrity="sha256-VBLiveTKyUZMEzJd6z2mhfxIqz3ZATCuVMawPZGzIfA=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/js/tempusdominus-bootstrap-4.min.js" integrity="sha256-z0oKYg6xiLq3yJGsp/LsY9XykbweQlHl42jHv2XTBz4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
<script src="/static/fds_app/build/js/intlTelInput-jquery.min.js"></script>
<script src="/static/fds_app/build/js/intlTelInput.min.js"></script>

<script src="/static/fds_app/build/js/utils.js"></script>
<script>
$('#password, #confirmpassword').on('keyup', function () {
  if ($('#password').val() == $('#confirmpassword').val()) {
    $('#message').html('Matching').css('color', 'white');
  } else
    $('#message').html('Not Matching').css('color', 'red');
});
$(function () {

   $("#id_date_of_registration").val(moment().format("YYYY-MM-DD"));
 });
$(document).ready(function() {

window.jsonarray = []
$.getJSON("static/fds_app/json/nigerian-states.json", function(obj) {
    $("#id_state_of_origin").empty();
    $("#id_state_of_origin").append("<option>" + "--Select--" + "</option>");
    for (x in obj[0]) {
        $("#id_state_of_origin").append($("<option></option>").val(x).html(x));
    }});

$.getJSON("static/fds_app/json/countries.json", function(obj) {
        $("#id_country_of_residence").empty();
        $("#id_country_of_residence").append("<option>" + "--Select--" + "</option>");
        for (x in obj) {
            jsonarray.push({'country_name':obj[x].country_name, 'country_code':obj[x].country_code})
            $("#id_country_of_residence").append($("<option></option>").val(obj[x].country_name).html(obj[x].country_name));
        }});
});
$("#telephone").intlTelInput({
 utilsScript: "utils.js",
 preferredCountries: ["ng","us" ]  //options here

});
$("#wtelephone").intlTelInput({
utilsScript: "utils.js" ,
preferredCountries: ["ng","us" ] // options here

});
function getLGA(objState){
  $.getJSON("static/fds_app/json/nigerian-states.json", function(obj) {
    $("#id_LGA").empty();
    $("#id_LGA").append("<option>" + "--Select--" + "</option>");
    for (x in obj[0][objState]) {
        $("#id_LGA").append($("<option></option>").val(obj[0][objState][x]).html(obj[0][objState][x]));
    }});
  };
  var iti = intlTelInput(document.querySelector("#telephone"));
  var witi = intlTelInput(document.querySelector("#wtelephone"));

  function getState(objCountry){
    selectedCountry = jsonarray.findIndex(x => x.country_name ===objCountry)
    selectedCode = jsonarray[selectedCountry]['country_code'].toLowerCase()
        //options here
    iti.setCountry(selectedCode)
    witi.setCountry(selectedCode)
    if(objCountry === 'Nigeria'){
    $.getJSON("static/fds_app/json/nigerian-states.json", function(obj) {
      $("#id_state_of_residence").empty();
      $("#id_state_of_residence").append("<option>" + "--Select--" + "</option>");
      for (x in obj[0]) {

          $("#id_state_of_residence").append($("<option></option>").val(x).html(x));
      }});
    }
  else{
      $("#id_state_of_residence").append($("<option></option>").val('Non Nigerian').html('Non Nigerian'));
      $("#id_LGA_of_residence").append($("<option></option>").val('Non Nigerian').html('Non Nigerian'));
   }
 }
 $("#telephone").on("keyup",function(){
   document.getElementById('telephone').value=iti.getNumber()
 })
 function getLGAResidence(objState){
   if(objState === 'Non Nigerian'){

   }
   else{
   $.getJSON("static/fds_app/json/nigerian-states.json", function(obj) {
     $("#id_LGA_of_residence").empty();
     $("#id_LGA_of_residence").append("<option>" + "--Select--" + "</option>");
     for (x in obj[0][objState]) {
         $("#id_LGA_of_residence").append($("<option></option>").val(obj[0][objState][x]).html(obj[0][objState][x]));
     }});
   }
 }
</script>
</body>
</html>
